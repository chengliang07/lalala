<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¯†å­—æµ‹è¯•ç³»ç»Ÿ (V12 - ä¼˜åŒ–ç‰ˆ)</title>
    <style>
        /* å…¨å±€å˜é‡ */
        :root {
            --primary-color: #007bff;
            --primary-hover: #0056b3;
            --success-color: #28a745;
            --success-hover: #218838;
            --warning-color: #ffc107;
            --danger-color: #dc3545;
            --light-bg: #f0f8ff;
            --text-color: #333;
            --text-secondary: #6c757d;
            --border-radius: 8px;
            --box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body { 
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            min-height: 100vh; 
            margin: 0; 
            background-color: var(--light-bg);
            color: var(--text-color);
        }
        
        .container { 
            width: 90%; 
            max-width: 600px; 
            background: white; 
            padding: 2rem; 
            border-radius: var(--border-radius); 
            box-shadow: var(--box-shadow); 
            text-align: center; 
            transition: var(--transition);
        }
        
        .hidden { display: none; }
        
        h1 { 
            color: var(--primary-color); 
            margin-bottom: 2rem; 
        }
        
        button { 
            padding: 12px 25px; 
            font-size: 1.2rem; 
            border: none; 
            border-radius: var(--border-radius); 
            background-color: var(--primary-color); 
            color: white; 
            cursor: pointer; 
            transition: var(--transition); 
        }
        
        button:hover { 
            background-color: var(--primary-hover); 
            transform: translateY(-2px);
        }
        
        button:active {
            transform: translateY(0);
        }
        
        button:disabled { 
            background-color: #cccccc; 
            cursor: not-allowed; 
            transform: none;
        }
        
        #login-screen .form-group { 
            margin-bottom: 1.5rem; 
        }
        
        #login-screen input { 
            width: 80%; 
            padding: 12px; 
            font-size: 1.1rem; 
            border: 1px solid #ccc; 
            border-radius: var(--border-radius); 
            transition: var(--transition);
        }
        
        #login-screen input:focus {
            border-color: var(--primary-color);
            outline: none;
            box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.25);
        }
        
        #login-error { 
            color: var(--danger-color); 
            margin-top: 1rem; 
            min-height: 1.2rem; 
            font-weight: bold; 
        }
        
        #test-screen #char-display { 
            font-size: 15rem; 
            font-weight: bold; 
            color: var(--text-color); 
            margin: 2rem 0; 
            line-height: 1; 
            font-family: 'KaiTi', 'æ¥·ä½“', serif; 
            transition: var(--transition);
        }
        
        #test-screen #mic-btn { 
            font-size: 3rem; 
            width: 100px; 
            height: 100px; 
            border-radius: 50%; 
            background-color: var(--success-color); 
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto;
        }
        
        #test-screen #mic-btn:hover { 
            background-color: var(--success-hover); 
        }
        
        #test-screen #status-text { 
            margin-top: 1.5rem; 
            font-size: 1.2rem; 
            color: var(--text-secondary); 
            min-height: 3.5rem; 
            line-height: 1.5; 
        }
        
        #test-screen #progress-text { 
            font-size: 1rem; 
            color: var(--text-secondary); 
            margin-top: 1rem;
        }
        
        #report-screen h2 { 
            color: var(--success-color); 
        }
        
        #report-screen #summary { 
            font-size: 1.2rem; 
            margin-bottom: 2rem; 
            line-height: 1.8; 
        }
        
        #report-screen #error-table { 
            width: 100%; 
            margin-top: 1rem; 
            border-collapse: collapse; 
        }
        
        #report-screen #error-table th, 
        #report-screen #error-table td { 
            border: 1px solid #ddd; 
            padding: 12px; 
            font-size: 1.1rem; 
        }
        
        #report-screen #error-table th { 
            background-color: #f2f2f2; 
            color: var(--text-color); 
        }
        
        #report-screen #no-errors { 
            color: var(--success-color); 
            font-size: 1.2rem; 
            font-weight: bold; 
        }
        
        .btn-success {
            background-color: var(--success-color);
        }
        
        .btn-success:hover {
            background-color: var(--success-hover);
        }
        
        .btn-danger {
            background-color: var(--danger-color);
        }
        
        .btn-danger:hover {
            background-color: #c82333;
        }
        
        .feedback-correct {
            color: var(--success-color);
            font-weight: bold;
        }
        
        .feedback-incorrect {
            color: var(--danger-color);
            font-weight: bold;
        }
        
        .feedback-warning {
            color: var(--warning-color);
            font-weight: bold;
        }
        
        /* å“åº”å¼è®¾è®¡ä¼˜åŒ– */
        @media (max-width: 768px) {
            .container {
                width: 95%;
                padding: 1.5rem;
            }
            
            #test-screen #char-display {
                font-size: 10rem;
            }
        }
        
        @media (max-width: 480px) {
            #test-screen #char-display {
                font-size: 8rem;
            }
            
            button {
                padding: 10px 20px;
                font-size: 1rem;
            }
            
            #test-screen #mic-btn {
                width: 80px;
                height: 80px;
                font-size: 2.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div id="login-screen">
            <h1>ä¸€å¹´çº§è¯†å­—æµ‹è¯•</h1>
            <div class="form-group"><input type="text" id="student-id" placeholder="è¯·è¾“å…¥å­¦å·"></div>
            <div class="form-group"><input type="text" id="student-name" placeholder="è¯·è¾“å…¥å§“å"></div>
            <button id="login-btn">å¼€å§‹æµ‹è¯•</button>
            <p id="login-error"></p>
        </div>
        <div id="test-screen" class="hidden">
            <p id="student-info"></p><div id="char-display">å­—</div><p id="status-text">ç‚¹å‡»ä¸‹é¢çš„éº¦å…‹é£ï¼Œå¤§å£°è¯»å‡ºè¿™ä¸ªå­—</p><button id="mic-btn">ğŸ¤</button><p id="progress-text"></p>
        </div>
        <div id="report-screen" class="hidden">
            <h2>æµ‹è¯•æŠ¥å‘Š</h2><div id="summary"></div><h3>é”™è¯¯åˆ—è¡¨</h3><div id="error-list"><p id="no-errors" class="hidden">å¤ªæ£’äº†ï¼Œå…¨éƒ¨æ­£ç¡®ï¼</p><table id="error-table" class="hidden"><thead><tr><th>æ±‰å­—</th><th>æ­£ç¡®å‘éŸ³</th><th>ä½ çš„å‘éŸ³(è¯†åˆ«ç»“æœ)</th></tr></thead><tbody></tbody></table></div><br><button id="restart-btn">é‡æ–°æµ‹è¯•</button>
        </div>
    </div>
    
    <script>
        // --- æ•°æ®æ¨¡å‹ ---
        const AppData = {
            // æ‹¼éŸ³è¯å…¸ - ç”¨äºè¯†åˆ«æ±‰å­—çš„æ‹¼éŸ³
            pinyinDict: {
                'å¥½': ['hao3'], 'è¡Œ': ['xing2', 'hang2'], 'ä¹': ['le4', 'yue4'],
                'ä¸º': ['wei2', 'wei4'], 'ä¸­': ['zhong1', 'zhong4'],
                // è¡¥å……å¸¸è§åŒéŸ³å­—
                'èˆª': ['hang2'], 'æ­': ['hang2'], 'æ‚¦': ['yue4'], 'æœˆ': ['yue4'],
                'å–‚': ['wei4'], 'ä½': ['wei4'], 'ç§': ['zhong3', 'zhong4']
            },
            
            // å­¦ç”Ÿæ•°æ®
            students: [
                { id: "101", name: "å¼ å°æ˜" },
                { id: "102", name: "æå°çº¢" },
                { id: "1", name: "æµ‹è¯•" }
            ],
            
            // æ±‰å­—åº“
            characters: [
                { character: "å¥½", pinyins: ["hao3"] },
                { character: "è¡Œ", pinyins: ["xing2", "hang2"] },
                { character: "ä¹", pinyins: ["le4", "yue4"] },
                { character: "ä¸º", pinyins: ["wei2", "wei4"] },
                { character: "ä¸­", pinyins: ["zhong1", "zhong4"] }
            ],
            
            // æµ‹è¯•çŠ¶æ€
            state: {
                currentUser: null,
                testChars: [],
                currentIndex: 0,
                testResults: [],
                feedbackDelay: 2000, // åé¦ˆæ˜¾ç¤ºæ—¶é—´(æ¯«ç§’)
                passScore: 60 // åŠæ ¼åˆ†æ•°çº¿
            },
            
            // æœ¬åœ°å­˜å‚¨é”®å
            storage: {
                historyKey: 'literacy_test_history'
            }
        };
        
        // --- å·¥å…·å‡½æ•° ---
        const Utils = {
            // ä»æ–‡æœ¬ä¸­æå–æ‹¼éŸ³
            getPinyinsFromText(text) {
                const pinyins = [];
                for (const char of text) {
                    if (AppData.pinyinDict[char]) {
                        pinyins.push(...AppData.pinyinDict[char]);
                    }
                }
                return [...new Set(pinyins)];
            },
            
            // æ¸…ç†è¯†åˆ«æ–‡æœ¬ï¼Œåªä¿ç•™æ±‰å­—
            cleanRecognizedText(text) {
                return text.replace(/[^\u4e00-\u9fa5]/g, '');
            },
            
            // éšæœºæ‰“ä¹±æ•°ç»„
            shuffleArray(array) {
                return [...array].sort(() => 0.5 - Math.random());
            },
            
            // æ ¼å¼åŒ–æ—¥æœŸæ—¶é—´
            formatDateTime(date) {
                const d = date || new Date();
                return `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, '0')}-${String(d.getDate()).padStart(2, '0')} ${String(d.getHours()).padStart(2, '0')}:${String(d.getMinutes()).padStart(2, '0')}`;
            },
            
            // ä¿å­˜æµ‹è¯•å†å²åˆ°æœ¬åœ°å­˜å‚¨
            saveTestHistory(result) {
                try {
                    const history = JSON.parse(localStorage.getItem(AppData.storage.historyKey) || '[]');
                    history.push({
                        ...result,
                        timestamp: new Date().toISOString()
                    });
                    localStorage.setItem(AppData.storage.historyKey, JSON.stringify(history));
                    return true;
                } catch (e) {
                    console.error('ä¿å­˜å†å²è®°å½•å¤±è´¥:', e);
                    return false;
                }
            }
        };
        
        // --- DOMå…ƒç´  ---
        const UI = {
            screens: {
                login: document.getElementById('login-screen'),
                test: document.getElementById('test-screen'),
                report: document.getElementById('report-screen')
            },
            login: {
                idInput: document.getElementById('student-id'),
                nameInput: document.getElementById('student-name'),
                submitBtn: document.getElementById('login-btn'),
                errorMsg: document.getElementById('login-error')
            },
            test: {
                studentInfo: document.getElementById('student-info'),
                charDisplay: document.getElementById('char-display'),
                statusText: document.getElementById('status-text'),
                micBtn: document.getElementById('mic-btn'),
                progressText: document.getElementById('progress-text')
            },
            report: {
                summary: document.getElementById('summary'),
                noErrors: document.getElementById('no-errors'),
                errorTable: document.getElementById('error-table'),
                errorTableBody: document.querySelector('#error-table tbody'),
                restartBtn: document.getElementById('restart-btn')
            },
            
            // æ˜¾ç¤º/éšè—å±å¹•
            showScreen(screenName) {
                Object.keys(this.screens).forEach(key => {
                    this.screens[key].classList.add('hidden');
                });
                this.screens[screenName].classList.remove('hidden');
            },
            
            // æ›´æ–°çŠ¶æ€æ–‡æœ¬
            updateStatus(message, type = 'normal') {
                const classMap = {
                    normal: '',
                    success: 'feedback-correct',
                    error: 'feedback-incorrect',
                    warning: 'feedback-warning'
                };
                
                const className = classMap[type] || '';
                
                if (className) {
                    this.test.statusText.innerHTML = `<span class="${className}">${message}</span>`;
                } else {
                    this.test.statusText.textContent = message;
                }
            }
        };
        
        // --- åº”ç”¨é€»è¾‘ ---
        const App = {
            // åˆå§‹åŒ–åº”ç”¨
            init() {
                // æ£€æŸ¥æµè§ˆå™¨å…¼å®¹æ€§
                if (!window.SpeechRecognition && !window.webkitSpeechRecognition) {
                    UI.login.errorMsg.textContent = 'é”™è¯¯ï¼šæ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè¯­éŸ³è¯†åˆ«ã€‚';
                    UI.login.submitBtn.disabled = true;
                    return;
                }
                
                // ç»‘å®šäº‹ä»¶
                this.bindEvents();
            },
            
            // ç»‘å®šäº‹ä»¶å¤„ç†ç¨‹åº
            bindEvents() {
                // ç™»å½•æŒ‰é’®
                UI.login.submitBtn.addEventListener('click', () => this.handleLogin());
                
                // å›è½¦é”®ç™»å½•
                UI.login.nameInput.addEventListener('keyup', (event) => {
                    if (event.key === 'Enter') UI.login.submitBtn.click();
                });
                
                // éº¦å…‹é£æŒ‰é’®
                UI.test.micBtn.addEventListener('click', () => this.startSpeechRecognition());
                
                // é‡æ–°æµ‹è¯•æŒ‰é’®
                UI.report.restartBtn.addEventListener('click', () => this.restartTest());
            },
            
            // å¤„ç†ç™»å½•
            handleLogin() {
                const id = UI.login.idInput.value.trim();
                const name = UI.login.nameInput.value.trim();
                
                // éªŒè¯è¾“å…¥
                if (!id || !name) {
                    UI.login.errorMsg.textContent = "å­¦å·å’Œå§“åä¸èƒ½ä¸ºç©ºï¼";
                    return;
                }
                
                // æŸ¥æ‰¾å­¦ç”Ÿ
                const foundUser = AppData.students.find(user => user.id === id && user.name === name);
                if (foundUser) {
                    AppData.state.currentUser = foundUser;
                    UI.login.errorMsg.textContent = '';
                    this.startTest();
                } else {
                    UI.login.errorMsg.textContent = "å­¦å·æˆ–å§“åé”™è¯¯ï¼";
                }
            },
            
            // å¼€å§‹æµ‹è¯•
            startTest() {
                // é‡ç½®æµ‹è¯•çŠ¶æ€
                AppData.state.currentIndex = 0;
                AppData.state.testResults = [];
                
                // éšæœºæ’åºæ±‰å­—
                AppData.state.testChars = Utils.shuffleArray(AppData.characters);
                
                // æ›´æ–°UI
                UI.test.studentInfo.textContent = `å­¦ç”Ÿ: ${AppData.state.currentUser.name} (${AppData.state.currentUser.id})`;
                UI.showScreen('test');
                
                // æ˜¾ç¤ºç¬¬ä¸€ä¸ªæ±‰å­—
                this.displayNextChar();
            },
            
            // æ˜¾ç¤ºä¸‹ä¸€ä¸ªæ±‰å­—
            displayNextChar() {
                const { currentIndex, testChars } = AppData.state;
                
                // æ£€æŸ¥æ˜¯å¦å·²å®Œæˆæ‰€æœ‰æ±‰å­—
                if (currentIndex >= testChars.length) {
                    this.showReport();
                    return;
                }
                
                // æ˜¾ç¤ºå½“å‰æ±‰å­—
                const currentWord = testChars[currentIndex];
                UI.test.charDisplay.textContent = currentWord.character;
                UI.test.progressText.textContent = `è¿›åº¦: ${currentIndex + 1} / ${testChars.length}`;
                UI.updateStatus("ç‚¹å‡»ä¸‹é¢çš„éº¦å…‹é£ï¼Œå¤§å£°è¯»å‡ºè¿™ä¸ªå­—");
                
                // é‡ç½®éº¦å…‹é£æŒ‰é’®
                UI.test.micBtn.disabled = false;
                UI.test.micBtn.textContent = 'ğŸ¤';
            },
            
            // å¯åŠ¨è¯­éŸ³è¯†åˆ«
            startSpeechRecognition() {
                // åˆ›å»ºè¯­éŸ³è¯†åˆ«å®ä¾‹
                const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
                const recognition = new SpeechRecognition();
                
                // é…ç½®è¯­éŸ³è¯†åˆ«
                recognition.lang = 'zh-CN';
                recognition.interimResults = false;
                recognition.maxAlternatives = 3; // å¢åŠ å¤‡é€‰ç»“æœæ•°é‡
                
                // å¼€å§‹è¯†åˆ«äº‹ä»¶
                recognition.onstart = () => {
                    UI.updateStatus("æ­£åœ¨å¬...");
                    UI.test.micBtn.textContent = '...';
                    UI.test.micBtn.disabled = true;
                };
                
                // è¯†åˆ«ç»“æœäº‹ä»¶
                recognition.onresult = (event) => {
                    const speechResult = event.results[0][0].transcript;
                    this.checkAnswer(speechResult);
                };
                
                // è¯†åˆ«é”™è¯¯äº‹ä»¶
                recognition.onerror = (event) => {
                    let errorMsg = "å‡ºé”™äº†ï¼Œè¯·å†è¯•ä¸€æ¬¡";
                    let errorType = "warning";
                    
                    // æ ¹æ®é”™è¯¯ç±»å‹æä¾›å…·ä½“åé¦ˆ
                    if (event.error === 'no-speech') {
                        errorMsg = "æ²¡æœ‰å¬åˆ°å£°éŸ³ï¼Œè¯·å¤§å£°è¯»å‡ºæ±‰å­—";
                    } else if (event.error === 'audio-capture') {
                        errorMsg = "éº¦å…‹é£å‡ºé—®é¢˜å•¦ï¼Œè¯·æ£€æŸ¥è®¾å¤‡";
                    } else if (event.error === 'not-allowed') {
                        errorMsg = "æœªå…è®¸ä½¿ç”¨éº¦å…‹é£ï¼Œè¯·å…è®¸æµè§ˆå™¨è®¿é—®éº¦å…‹é£";
                    } else if (event.error === 'network') {
                        errorMsg = "ç½‘ç»œè¿æ¥å‡ºé”™ï¼Œè¯·æ£€æŸ¥ç½‘ç»œ";
                    }
                    
                    UI.updateStatus(errorMsg, errorType);
                    
                    // å»¶è¿Ÿåå…è®¸é‡è¯•
                    setTimeout(() => this.displayNextChar(), AppData.state.feedbackDelay);
                };
                
                // è¯†åˆ«ç»“æŸäº‹ä»¶
                recognition.onend = () => {
                    // å¦‚æœæŒ‰é’®ä»ç„¶ç¦ç”¨ï¼Œè¯´æ˜æ˜¯æ­£å¸¸ç»“æŸï¼Œä¸éœ€è¦é¢å¤–å¤„ç†
                    // é”™è¯¯å¤„ç†å’Œç»“æœå¤„ç†å·²åœ¨å„è‡ªçš„äº‹ä»¶ä¸­å®Œæˆ
                };
                
                // å¯åŠ¨è¯†åˆ«
                recognition.start();
            },
            
            // æ£€æŸ¥ç­”æ¡ˆ
            checkAnswer(recognizedText) {
                const cleanedText = Utils.cleanRecognizedText(recognizedText);
                
                // æ£€æŸ¥æ˜¯å¦è¯†åˆ«åˆ°æœ‰æ•ˆæ±‰å­—
                if (!cleanedText) {
                    UI.updateStatus("æ²¡æœ‰è¯†åˆ«å‡ºæœ‰æ•ˆæ±‰å­—ï¼Œè¯·å†è¯•ä¸€æ¬¡", "warning");
                    setTimeout(() => this.displayNextChar(), AppData.state.feedbackDelay);
                    return;
                }
                
                const { currentIndex, testChars } = AppData.state;
                const currentWord = testChars[currentIndex];
                const expectedPinyins = currentWord.pinyins;
                let isCorrect = false;
                
                // è·å–è¯†åˆ«æ–‡æœ¬çš„æ‹¼éŸ³
                const recognizedPinyins = Utils.getPinyinsFromText(cleanedText);
                
                // æ£€æŸ¥æ‹¼éŸ³æ˜¯å¦åŒ¹é…
                if (recognizedPinyins.length > 0) {
                    isCorrect = expectedPinyins.some(p_expected => 
                        recognizedPinyins.includes(p_expected));
                }
                
                // è®°å½•ç»“æœ
                AppData.state.testResults.push({
                    character: currentWord.character,
                    expected: expectedPinyins,
                    recognized: recognizedText,
                    isCorrect: isCorrect
                });
                
                // æ˜¾ç¤ºåé¦ˆ
                 if (isCorrect) {
                     UI.updateStatus("æ­£ç¡®ï¼âœ…", "success");
                 } else {
                     UI.updateStatus(`ä¸å¯¹å“¦ï¼âŒ <br>æ­£ç¡®è¯»éŸ³: ${expectedPinyins.join(' / ')}`, "error");
                 }
                
                // å»¶è¿Ÿåæ˜¾ç¤ºä¸‹ä¸€ä¸ªæ±‰å­—
                setTimeout(() => {
                    AppData.state.currentIndex++;
                    this.displayNextChar();
                }, AppData.state.feedbackDelay);
            },
            
            // æ˜¾ç¤ºæµ‹è¯•æŠ¥å‘Š
            showReport() {
                UI.showScreen('report');
                
                const { testResults, testChars, currentUser } = AppData.state;
                const correctCount = testResults.filter(res => res.isCorrect).length;
                const accuracy = (correctCount / testChars.length) * 100;
                const isPassed = accuracy >= AppData.state.passScore;
                
                // ç”ŸæˆæŠ¥å‘Šæ‘˜è¦
                UI.report.summary.innerHTML = `
                    <p><strong>${currentUser.name}</strong> åŒå­¦ï¼Œæµ‹è¯•å®Œæˆï¼</p>
                    <p>æµ‹è¯•æ—¶é—´: <strong>${Utils.formatDateTime()}</strong></p>
                    <p>æ€»é¢˜æ•°: <strong>${testChars.length}</strong></p>
                    <p>ç­”å¯¹é¢˜æ•°: <strong style="color:var(--success-color);">${correctCount}</strong></p>
                    <p>æ­£ç¡®ç‡: <strong style="color:${isPassed ? 'var(--success-color)' : 'var(--danger-color)'};">                    ${accuracy.toFixed(0)}%</strong></p>
                    <p>æµ‹è¯•ç»“æœ: <strong style="color:${isPassed ? 'var(--success-color)' : 'var(--danger-color)'};">                    ${isPassed ? 'é€šè¿‡' : 'éœ€è¦åŠ å¼º'}</strong></p>
                `;
                
                // æ˜¾ç¤ºé”™è¯¯åˆ—è¡¨
                const errors = testResults.filter(res => !res.isCorrect);
                UI.report.errorTableBody.innerHTML = '';
                
                if (errors.length === 0) {
                    UI.report.noErrors.classList.remove('hidden');
                    UI.report.errorTable.classList.add('hidden');
                } else {
                    UI.report.noErrors.classList.add('hidden');
                    UI.report.errorTable.classList.remove('hidden');
                    
                    errors.forEach(err => {
                        const row = `
                            <tr>
                                <td>${err.character}</td>
                                <td>${err.expected.join(' / ')}</td>
                                <td>${err.recognized}</td>
                            </tr>
                        `;
                        UI.report.errorTableBody.innerHTML += row;
                    });
                }
                
                // ä¿å­˜æµ‹è¯•å†å²
                Utils.saveTestHistory({
                    student: currentUser,
                    date: Utils.formatDateTime(),
                    totalCount: testChars.length,
                    correctCount: correctCount,
                    accuracy: accuracy.toFixed(0),
                    isPassed: isPassed,
                    results: testResults
                });
            },
            
            // é‡æ–°æµ‹è¯•
            restartTest() {
                // é‡ç½®è¡¨å•
                UI.login.idInput.value = '';
                UI.login.nameInput.value = '';
                UI.login.errorMsg.textContent = '';
                
                // è¿”å›ç™»å½•ç•Œé¢
                UI.showScreen('login');
            }
        };
        
        // åˆå§‹åŒ–åº”ç”¨
        document.addEventListener('DOMContentLoaded', () => App.init());
    </script>
</body>
</html>